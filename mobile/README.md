# Mobile app (Flutter)

Flutter application for dream analysis with:
- Firebase Authentication (email/password and Google sign-in suggested)
- BLoC for state management
- Text input and speech-to-text using speech_to_text
- REST calls to FastAPI backend with Firebase ID token

## Setup

1) Dependencies
- Install Flutter SDK (3.19+ recommended)
- dart --version, flutter --version

2) Firebase
- flutter pub add firebase_core firebase_auth google_sign_in
- dart pub global activate flutterfire_cli
- flutterfire configure
  - Select your Firebase project and platforms
  - This generates lib/firebase_options.dart
- For Android: add google-services.json and apply Gradle plugins per Firebase docs.
- For iOS: add GoogleService-Info.plist and update Info.plist.

3) Env config
- cp assets/.env.example assets/.env
- Set API_BASE_URL to your backend URL (e.g., http://10.0.2.2:8000 for Android emulator, http://localhost:8000 for desktop/web)

4) Bootstrap platform folders
- If this repo was not created with the full Flutter scaffold, run inside mobile/: flutter create .

5) Run
- flutter pub get
- flutter run

## Structure
- lib/
  - app.dart — MaterialApp, routing
  - main.dart — bootstrap, Firebase initialize
  - firebase_options.dart — generated by FlutterFire CLI
  - data/ — repositories, models
  - bloc/ — BLoC files (auth, dream)
  - presentation/ — UI pages and widgets

## BLoC overview
- AuthBloc: handles sign-in/out and user stream
- DreamBloc: handles speech-to-text, text input, and analysis submission
